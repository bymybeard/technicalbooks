<HTML>
<HEAD>
<TITLE>Teach Yourself Java in 21 Days tyj14x.htm</TITLE>
<LINK REL="ToC" HREF="httoc.html" tppabs="http://newdata.box.sk/bx/java/httoc.html">
<LINK REL="Index" HREF="htindex.html" tppabs="http://newdata.box.sk/bx/java/htindex.html">
<LINK REL="Next" HREF="tyjwg3.html" tppabs="http://newdata.box.sk/bx/java/tyjwg3.html">
<LINK REL="Previous" HREF="tyj13x.html" tppabs="http://newdata.box.sk/bx/java/tyj13x.html"></HEAD>
<BODY TEXT="#000000" LINK="#0000FF" VLINK="#800080" BACKGROUND="yellzig.gif" tppabs="http://newdata.box.sk/bx/java/yellzig.gif">

<P><A HREF = "tyj13x.html" tppabs="http://newdata.box.sk/bx/java/tyj13x.html"  ><IMG SRC="bluprev.gif" tppabs="http://newdata.box.sk/bx/java/bluprev.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Previous Page"></A>
<A HREF = "httoc.html" tppabs="http://newdata.box.sk/bx/java/httoc.html"  ><IMG SRC="blutoc.gif" tppabs="http://newdata.box.sk/bx/java/blutoc.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="TOC"></A>
<A HREF = "htindex.html" tppabs="http://newdata.box.sk/bx/java/htindex.html"  ><IMG SRC="bluindex.gif" tppabs="http://newdata.box.sk/bx/java/bluindex.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Index"></A>
<A HREF = "tyjwg3.html" tppabs="http://newdata.box.sk/bx/java/tyjwg3.html"  ><IMG SRC="blunext.gif" tppabs="http://newdata.box.sk/bx/java/blunext.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Next Page"></A>
<A HREF = "httoc.html" tppabs="http://newdata.box.sk/bx/java/httoc.html"  ><IMG SRC="bluprev.gif" tppabs="http://newdata.box.sk/bx/java/bluprev.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Home"></A>
</P><UL>
<LI>
<A HREF = "#I1"  >Day 14</A></LI>
<UL>
<LI>
<A HREF = "#I3"  >Windows, Networking, and Other Tidbits</A></LI>
<UL>
<LI>
<A HREF = "#I4"  >Windows, Menus, and Dialog Boxes</A></LI>
<UL>
<LI>
<A HREF = "#I5"  >Frames</A></LI>
<LI>
<A HREF = "#I39"  >Menus</A></LI>
<UL>
<LI>
<A HREF = "#I48"  >Menus and Menubars</A></LI>
<LI>
<A HREF = "#I58"  >Menu Items</A></LI>
<LI>
<A HREF = "#I62"  >Menu Actions</A></LI>
<LI>
<A HREF = "#I64"  >An Example</A></LI></UL>
<LI>
<A HREF = "#I66"  >Dialog Boxes</A></LI>
<LI>
<A HREF = "#I75"  >File Dialogs</A></LI>
<LI>
<A HREF = "#I80"  >Window Events</A></LI>
<LI>
<A HREF = "#I83"  >Using AWT Windows in Stand-Alone Applications</A></LI></UL>
<LI>
<A HREF = "#I86"  >Networking in Java</A></LI>
<UL>
<LI>
<A HREF = "#I96"  >Creating Links Inside Applets</A></LI>
<LI>
<A HREF = "#I103"  >Opening Web Connections</A></LI>
<LI>
<A HREF = "#I105"  >openStream()</A></LI>
<LI>
<A HREF = "#I109"  >The URLconnection Class</A></LI>
<LI>
<A HREF = "#I111"  >Sockets</A></LI></UL>
<LI>
<A HREF = "#I116"  >Other Applet Hints</A></LI>
<UL>
<LI>
<A HREF = "#I117"  >The showStatus Method</A></LI>
<LI>
<A HREF = "#I124"  >Applet Information</A></LI>
<LI>
<A HREF = "#I126"  >Communicating Between Applets</A></LI></UL>
<LI>
<A HREF = "#I133"  >Summary</A></LI>
<LI>
<A HREF = "#I134"  >Q&amp;A</A></LI></UL></UL></UL>

<H1><A ID = "I1" NAME = "I1"  >
<BR>
<foNT SIZE=5><A ID = "I2" NAME = "I2"  ></A><B>Day 14</B>
<BR></FONT></A></H1>
<H2><A ID = "I3" NAME = "I3"  >
<foNT SIZE=5><B>Windows, Networking, and Other Tidbits</B>
<BR></FONT></A></H2>
<P>Here you are on the last day of the second week, and you're just about finished with applets and the AWT. With the information you'll learn today, you can create a wide variety of applets and applications using Java. Next week's lessons provide more of the advanced stuff that you'll need if you start doing really serious work in Java.
<BR></P>
<P>Today, to finish up this week, there are three very different topics:
<BR></P>
<UL>
<LI>Windows, menus, and dialog boxes&#151;the last of the AWT classes that enable you to pop up real windows from applets, and to create stand-alone Java applications that have their own windows
<BR>
<BR></LI>
<LI>Networking&#151;how to load new HTML files from an Java-enabled browser, how to retrieve files from Web sites, and some basics on how to work with generic sockets in Java
<BR>
<BR></LI>
<LI>Extra tidbits&#151;the smaller stuff that didn't fit in anywhere else, but that might be useful to you as you write your Java applets and applications
<BR>
<BR>
<BR></LI></UL>
<H3><A ID = "I4" NAME = "I4"  >
<foNT SIZE=4><B>Windows, Menus, and Dialog Boxes</B>
<BR></FONT></A></H3>
<P>Today, you'll finish up the last bits of the AWT that didn't fit into yesterday's lesson. In addition to all the graphics, events, UI, and layout mechanisms that the AWT provides, it also provides windows, menus, and dialog boxes, enabling to you create fully featured applications either as part of your applet or independently for stand-alone Java applications.
<BR></P>
<H4><A ID = "I5" NAME = "I5"  >
<foNT SIZE=3><B>Frames</B>
<BR></FONT></A></H4>
<P>The AWT Window class <A ID = "I6" NAME = "I6"  ></A><A ID = "I7" NAME = "I7"  ></A><A ID = "I8" NAME = "I8"  ></A>enables you to create windows that are independent of the browser window containing the applet&#151;that is, separate popup windows with their own titles, resize handles, and menubars.
<BR></P>
<P>The Window class provides basic behavior for windows. Most commonly, instead of using the Window class, you'll use Window's subclasses, Frame and <A ID = "I9" NAME = "I9"  ></A><A ID = "I10" NAME = "I10"  ></A><A ID = "I11" NAME = "I11"  ></A><A ID = "I12" NAME = "I12"  ></A>Dialog. The Frame class enables you to create a fully functioning window with a menubar. Dialog is a more limited window for dialog boxes. You'll learn more about dialog boxes later on in this section.
<BR></P>
<P>To create a frame, use <A ID = "I13" NAME = "I13"  ></A><A ID = "I14" NAME = "I14"  ></A><A ID = "I15" NAME = "I15"  ></A>one of the following constructors:
<BR></P>
<UL>
<LI>new Frame() creates a basic frame without <A ID = "I16" NAME = "I16"  ></A><A ID = "I17" NAME = "I17"  ></A>a title.
<BR>
<BR></LI>
<LI>new Frame(<I>String</I>) creates a basic frame with the given title.
<BR>
<BR>
<BR></LI></UL>
<P>Frames are containers, just like panels are, so you can add other components to them just as you would regular panels, using <A ID = "I18" NAME = "I18"  ></A><A ID = "I19" NAME = "I19"  ></A>the add() method. The default layout for windows is BorderLayout:
<BR></P>
<PRE>win = new Frame(&quot;My Cool Window&quot;);
win.setLayout(new BorderLayout(10, 20));
win.add(&quot;North&quot;, new Button(&quot;Start&quot;));
win.add(&quot;Center&quot;, new Button(&quot;Move&quot;));</PRE>
<P>To set a <A ID = "I20" NAME = "I20"  ></A><A ID = "I21" NAME = "I21"  ></A>size for the new window, use the resize() method<A ID = "I22" NAME = "I22"  ></A><A ID = "I23" NAME = "I23"  ></A>. To set <A ID = "I24" NAME = "I24"  ></A><A ID = "I25" NAME = "I25"  ></A>a location for where the window appears, use the move() method. Note that the location() method<A ID = "I26" NAME = "I26"  ></A><A ID = "I27" NAME = "I27"  ></A> can tell you where the applet window is on the screen so that you can pop up the extra window in a relative position to that window (all these methods are defined for all containers, so you can use them for applets, windows, and the components inside them, subject to the current layout):
<BR></P>
<PRE>win.resize(100, 200);
Dimension d = location();
win.move(d.width + 50, d.height + 50);</PRE>
<P>When you initially create a window, it's invisible. You need to use the show() method<A ID = "I28" NAME = "I28"  ></A><A ID = "I29" NAME = "I29"  ></A><A ID = "I30" NAME = "I30"  ></A><A ID = "I31" NAME = "I31"  ></A><A ID = "I32" NAME = "I32"  ></A><A ID = "I33" NAME = "I33"  ></A> to make the window appear on the screen (you can use hide()<A ID = "I34" NAME = "I34"  ></A><A ID = "I35" NAME = "I35"  ></A> to hide it again):
<BR></P>
<PRE>win.show();</PRE>
<P>Listing 14.1 shows an example of a simple applet with a <A ID = "I36" NAME = "I36"  ></A><A ID = "I37" NAME = "I37"  ></A>popup window (both the applet and the window are shown in Figure 14.1). The applet has two buttons: one to show the window, and one to hide the window. The window itself, created from a subclass called MyFrame contains a single label: &quot;This is a Window.&quot; You'll use this basic window and applet all through this section, so the more you understand what's going on here the easier it will be later.
<BR></P>
<P>
<BR><B><A HREF = "javascript:if(confirm('http://newdata.box.sk/bx/java/14tyj01.gif  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://newdata.box.sk/bx/java/14tyj01.gif'" tppabs="http://newdata.box.sk/bx/java/14tyj01.gif"  >Figure 14.1. Windows.</B></A>
<BR></P>
<UL>
<LH><B>Listing 14.1. A popup window.</B><A ID = "I38" NAME = "I38"  ></A></LH></UL>
<PRE> 1: public class GUI extends java.applet.Applet {
 2:     Frame window;
 3:
 4:     public void init() {
 5:         add(new Button(&quot;Open Window&quot;));
 6:         add(new Button(&quot;Close Window&quot;));
 7:
 8:         window = new MyFrame(&quot;A Popup Window&quot;);
 9:         window.resize(150, 150);
10:         window.show();
11:     }
12:
13:     public boolean action(Event evt, Object arg) {
14:         if (evt.target instanceof Button) {
15:             String label = (String)arg;
16:             if (label.equals(&quot;Open Window&quot;)) {
17:                 if (!window.isShowing())
18:                 window.show();
19:             }
20:             else if (label == &quot;Close Window&quot;) {
21:                 if (window.isShowing())
22:                     window.hide();
23:             }
24:             return true;
25:         }
26:         else return false;
27:     }
28: }
29: 
30: class MyFrame extends Frame {
31:     Label l;
32:     MyFrame(String title) {
33:     super(title);
34:     setLayout(new GridLayout(1, 1));
35:     l = new Label(&quot;This is a Window&quot;, Label.CENTER);
36:     add(l);
37: }</PRE>
<H4><A ID = "I39" NAME = "I39"  >
<foNT SIZE=3><B>Menus</B>
<BR></FONT></A></H4>
<P>Each new window you <A ID = "I40" NAME = "I40"  ></A><A ID = "I41" NAME = "I41"  ></A>create can have its own menubar along the top of the screen. Each menubar can have a number of menus, and each menu, in turn, can have menu items. The AWT provides classes for all these <A ID = "I42" NAME = "I42"  ></A><A ID = "I43" NAME = "I43"  ></A><A ID = "I44" NAME = "I44"  ></A><A ID = "I45" NAME = "I45"  ></A><A ID = "I46" NAME = "I46"  ></A><A ID = "I47" NAME = "I47"  ></A>things called, respectively, MenuBar, Menu, and MenuItem.
<BR></P>
<H5><A ID = "I48" NAME = "I48"  >
<foNT SIZE=3><B>Menus and Menubars</B>
<BR></FONT></A></H5>
<P>To create a menubar for <A ID = "I49" NAME = "I49"  ></A><A ID = "I50" NAME = "I50"  ></A><A ID = "I51" NAME = "I51"  ></A>a given window, create a new instance of the class MenuBar:
<BR></P>
<PRE>MenuBar mb = new MenuBar();</PRE>
<P>To set this menubar as the default menu for the window, use the setMenuBar() method<A ID = "I52" NAME = "I52"  ></A><A ID = "I53" NAME = "I53"  ></A> on the window:
<BR></P>
<PRE>window.setMenuBar(mb);</PRE>
<P>Add individual menus (File, Edit, and so on) to the menubar by creating them and then adding them to the menubar:
<BR></P>
<PRE>Menu m = new Menu(&quot;File&quot;);
mb.add(m);</PRE>
<P>Some systems enable you <A ID = "I54" NAME = "I54"  ></A><A ID = "I55" NAME = "I55"  ></A>to indicate a special help menu, which may be drawn on the right side of the menubar. You can indicate that a specific menu is the help menu by using the setHelpMenu() method<A ID = "I56" NAME = "I56"  ></A><A ID = "I57" NAME = "I57"  ></A>. The given menu should already be added to the menu itself:
<BR></P>
<PRE>Menu hm = new Menu(&quot;Help&quot;);
mb.add(hm);
mb.setHelpMenu(hm);</PRE>
<P>If, for any reason, you want to prevent a user from selecting a menu, you can use the disable() command on that menu (and the enable() command to make it available again):
<BR></P>
<PRE>m.disable();</PRE>
<H5><A ID = "I58" NAME = "I58"  >
<foNT SIZE=3><B>Menu Items</B>
<BR></FONT></A></H5>
<P>There are four <A ID = "I59" NAME = "I59"  ></A>kinds of items you can add to individual menus:
<BR></P>
<UL>
<LI>Instances of the class MenuItem, for regular menu items
<BR>
<BR></LI>
<LI>Instances of the class CheckBoxMenuItem, for toggled menu items
<BR>
<BR></LI>
<LI>Other menus, with their own menu items
<BR>
<BR></LI>
<LI>Separators, for lines that separate groups of items on menus
<BR>
<BR>
<BR></LI></UL>
<P>Regular menu items are added by using the MenuItem class. Add them to a menu using the add() method:
<BR></P>
<PRE>Menu m = new Menu(&quot;Tools&quot;);
m.add(new MenuItem(&quot;Info&quot;));
m.add(new MenuItem(&quot;Colors&quot;));</PRE>
<P>Submenus can be added simply by creating a new instance of Menu and adding it to the first menu. You can then add items to <I>that</I> menu:
<BR></P>
<PRE>Menu sb = new Menu(&quot;Sizes&quot;);
m.add(sb);
sb.add(new MenuItem(&quot;Small&quot;));
sb.add(new MenuItem(&quot;Medium&quot;));
sb.add(new MenuItem(&quot;Large&quot;));</PRE>
<P>The CheckBoxMenuItem class<A ID = "I60" NAME = "I60"  ></A><A ID = "I61" NAME = "I61"  ></A> creates a menu item with a checkbox on it, enabling the menu state to be toggled on and off (selecting it once makes the checkbox appear selected; selecting it again unselects the checkbox). Create and add a checkbox menu item the same way you create and add regular menu items:
<BR></P>
<PRE>CheckboxMenuItem coords =
    new CheckboxMenuItem(&quot;Show Coordinates&quot;);
m.add(coords);</PRE>
<P>Finally, to add a separator to a menu (a line used to separate groups of items in a menu), create and add a menu item with a single dash (-) as the label.
<BR></P>
<PRE>MenuItem msep = new MenuItem(&quot;-&quot;);
m.add(msep);</PRE>
<P>Any menu item can be disabled by using the disable() method and enabled again using enable(). Disabled menu items cannot be selected:
<BR></P>
<PRE>MenuItem mi = new MenuItem(&quot;Fill&quot;);
m.addItem(mi);
mi.disable();</PRE>
<H5><A ID = "I62" NAME = "I62"  >
<foNT SIZE=3><B>Menu Actions</B>
<BR></FONT></A></H5>
<P>The act of <A ID = "I63" NAME = "I63"  ></A>selecting a menu item causes an action event to be generated. You can handle that action the same way you handle other action methods&#151;by overriding action(). Both regular menu items and checkbox menu items have actions that generate an extra argument representing the label for that menu. You can use that label to determine which action to take. Note, also, that because CheckBoxMenuItem is a subclass of MenuItem, you don't have to treat that menu item as a special case:
<BR></P>
<PRE>public boolean action(Event evt, Object arg) {
    if (evt.target instanceof MenuItem) {
        String label = (String)arg;
        if (label.equals(&quot;Show Coordinates&quot;)) toggleCoords();
        else if (label.equals(&quot;Fill&quot;)) fillcurrentArea();
        return true;
    }
    else return false;
}</PRE>
<H5><A ID = "I64" NAME = "I64"  >
<foNT SIZE=3><B>An Example</B>
<BR></FONT></A></H5>
<P>Let's add a menu <A ID = "I65" NAME = "I65"  ></A>to the window you created in the previous section. Add it to the constructor method in the MyFrame class (Figure 14.2 shows the resulting menu):
<BR></P>
<P>
<BR><B><A HREF = "javascript:if(confirm('http://newdata.box.sk/bx/java/14tyj02.gif  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://newdata.box.sk/bx/java/14tyj02.gif'" tppabs="http://newdata.box.sk/bx/java/14tyj02.gif"  >Figure 14.2. A menu.</B></A>
<BR></P>
<PRE>MyFrame(String title) {
    super(title);
    MenuBar mb = new MenuBar();
    Menu m = new Menu(&quot;Colors&quot;);
    m.add(new MenuItem(&quot;Red&quot;));
    m.add(new MenuItem(&quot;Blue&quot;));
    m.add(new MenuItem(&quot;Green&quot;));
    m.add(new MenuItem(&quot;-&quot;));
    m.add(new CheckboxMenuItem(&quot;Reverse Text&quot;));
    mb.add(m);
    mb.setHelpMenu(m);
    setMenuBar(mb);
    ...
}</PRE>
<P>This menu has four items: one each for the colors red, blue, and green (which, when selected, change the background of the window), and one checkbox menu item for reversing the color of the text (to white). To handle these menu items, you need an action() method:
<BR></P>
<PRE>public boolean action(Event evt, Object arg) {
    String label = (String)arg;
    if (evt.target instanceof MenuItem) {
      if (label.equals (&quot;Red&quot;)) setBackground(Color.red);
      else of (label.equals(&quot;Blue&quot;)) setBackground(Color.blue);
      else if (label.equals(&quot;Green&quot;)) setBackground(Color.green);
      return true;
    }
    if (evt.target instanceof CheckboxMenuItem) {
      if (getForeground() == Color.black)
        setForeground(Color.white);
      else setForeground(Color.black);
      return true;
    }
    return false;
}</PRE>
<H4><A ID = "I66" NAME = "I66"  >
<foNT SIZE=3><B>Dialog Boxes</B>
<BR></FONT></A></H4>
<P>Dialog boxes are <A ID = "I67" NAME = "I67"  ></A>functionally similar to frames in that they pop up new windows on the screen. However, dialog boxes are intended to be used for transient windows&#151;for example, windows that let you know about warnings, windows that ask you for specific information, and so on. Dialogs don't usually have titlebars or many of the more general features that windows have (although you can create one with a titlebar), and they can be made nonresizable or modal.
<BR></P>
<P>A <I>modal dialog</I> prevents input <A ID = "I68" NAME = "I68"  ></A><A ID = "I69" NAME = "I69"  ></A>to any of the other windows on the screen until that dialog is dismissed.
<BR></P>
<P>The AWT provides two kinds <A ID = "I70" NAME = "I70"  ></A><A ID = "I71" NAME = "I71"  ></A>of dialog boxes: the Dialog class, which provides a generic dialog, and FileDialog, which produces a platform-specific dialog to choose files to save or open.
<BR></P>
<P>To create a generic dialog, use one of these constructors:
<BR></P>
<UL>
<LI>Dialog(Frame, boolean) creates <A ID = "I72" NAME = "I72"  ></A><A ID = "I73" NAME = "I73"  ></A><A ID = "I74" NAME = "I74"  ></A>an initially invisible dialog, attached to the current frame, which is either modal (true) or not (false).
<BR>
<BR></LI>
<LI>Dialog(Frame, String, boolean) is the same as the previous constructor, with the addition of a titlebar and a title indicated by the string argument.
<BR>
<BR>
<BR></LI></UL>
<P>Note that because you have to give a dialog a Frame argument, you can attach dialogs only to windows that already exist independently of the applet itself.
<BR></P>
<P>The dialog window, like the frame window, is a panel on which you can lay out and draw UI components and perform graphics operations, just as you would any other panel. Like other windows, the dialog is initially invisible, but you can show it with show() and hide it with hide().
<BR></P>
<P>Let's add a dialog to that same example with the popup window. You'll add a menu item for changing the text of the window, which brings up the Enter Text dialog box (see Figure 14.3).
<BR></P>
<P>
<BR><B><A HREF = "javascript:if(confirm('http://newdata.box.sk/bx/java/14tyj03.gif  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://newdata.box.sk/bx/java/14tyj03.gif'" tppabs="http://newdata.box.sk/bx/java/14tyj03.gif"  >Figure 14.3. The Enter Text dialog.</B></A>
<BR></P>
<P>To add this dialog, first add a menu item to that window (the constructor method for the MyFrame class) to change the text the popup window displays:
<BR></P>
<PRE>m.add(new MenuItem(&quot;Set Text...&quot;));</PRE>
<P>In that same method, you can create the dialog and lay out the parts of it (it's invisible by default, so you can do whatever you want to it and it won't appear on screen until you show it):
<BR></P>
<PRE>dl = new Dialog(this, &quot;Enter Text&quot;, true);
dl.setLayout(new GridLayout(2, 1, 30, 30));
tf = new TextField(l.getText(), 20);
dl.add(tf);
dl.add(new Button(&quot;OK&quot;));
dl.resize(150, 75);</PRE>
<P>The action of choosing the menu item you just added brings up the dialog; choosing the OK button dismisses it. So you need to add behavior to this class's action method so that the dialog works right. To the menu item tests, add a line for the new menu item:
<BR></P>
<PRE>if (evt.target instanceof MenuItem) {
    if (label.equals(&quot;Red&quot;)) setBackground(Color.red);
    if (label.equals(&quot;Blue&quot;)) setBackground(Color.blue);
    if (label.equals(&quot;Green&quot;)) setBackground(Color.green);
    if (label.equals(&quot;Set Text...&quot;)) dl.show();
}</PRE>
<P>Then, because OK is a button, you have to add a special case for that button separate from the menu items. In this special case, set the text of the window to the text that was typed into the text field, and then hide the dialog again:
<BR></P>
<PRE>if (evt.target instanceof Button) {
    if (label.equals(&quot;OK&quot;)) {
        l.setText(tf.getText());
        dl.hide();
    }
}</PRE>
<H4><A ID = "I75" NAME = "I75"  >
<foNT SIZE=3><B>File Dialogs</B>
<BR></FONT></A></H4>
<P>FileDialog provides a <A ID = "I76" NAME = "I76"  ></A><A ID = "I77" NAME = "I77"  ></A>basic file open/save dialog box that enables you to access the file system. The FileDialog class is system-independent, but depending on the platform, the standard Open File dialog is brought up.
<BR></P>
<HR ALIGN=CENTER>
<NOTE>
<IMG SRC="note.gif" tppabs="http://newdata.box.sk/bx/java/note.gif" WIDTH = 35 HEIGHT = 35><B>Note:</B> For applets, you can bring up the file dialog, but due to security restrictions you can't do anything with it (or, if you can, access to any files on the local system is severely restricted). FileDialog is much more useful in stand-alone applications.
<BR></NOTE>
<HR ALIGN=CENTER>
<P>To create <A ID = "I78" NAME = "I78"  ></A><A ID = "I79" NAME = "I79"  ></A>a file dialog, use the following constructors:
<BR></P>
<UL>
<LI>FileDialog(Frame, String) creates an Open File dialog, attached to the given frame, with the given title. This form creates a dialog to load a file.
<BR>
<BR></LI>
<LI>FileDialog(Frame, String, int) also creates a file dialog, but that integer argument is used to determine whether the dialog is for loading a file or saving a file (the only difference is the labels on the buttons; the file dialog does not actually open or save anything). The possible options for the mode argument are FileDialog.LOAD and FileDialog.SAVE.
<BR>
<BR>
<BR></LI></UL>
<P>After you create a FileDialog instance, use show() to display it:
<BR></P>
<PRE>FileDialog fd = new FileDialog(this, &quot;FileDialog&quot;);
fd.show();</PRE>
<P>When the reader chooses a file in the file dialog and dismisses it, you can then access the filename they chose by using the getDirectory() and getFile() methods; both return strings indicating the values the reader chose. You can then open that file by using the stream and file handling methods (which you'll learn about next week) and then read from or write to that file.
<BR></P>
<H4><A ID = "I80" NAME = "I80"  >
<foNT SIZE=3><B>Window Events</B>
<BR></FONT></A></H4>
<P>Yesterday, you <A ID = "I81" NAME = "I81"  ></A><A ID = "I82" NAME = "I82"  ></A>learned about writing your own event handler methods, and you noted that the Event class defines many standard events for which you can test. Window events are part of that list, so if you use windows, these events may be of interest to you. Table 14.1 shows those events.
<BR></P>
<UL>
<LH><B>Table 14.1. Window Events from the </B><B>Event</B><B> Class.</B>
<BR></LH></UL>
<TABLE BORDER>
<TR>
<TD>
<P>WINDOW_DESTROY</P>
<TD>
<P>Generated when a window is destroyed (for example, when the browser or applet viewer has quit)</P>
<TR>
<TD>
<P>WINDOW_EXPOSE </P>
<TD>
<P>Generated when the window is brought forward from behind other windows</P>
<TR>
<TD>
<P>WINDOW_ICONIFY </P>
<TD>
<P>Generated when the window is iconified</P>
<TR>
<TD>
<P>WINDOW_DEICONIFY</P>
<TD>
<P>Generated when the window is restored from an icon</P>
<TR>
<TD>
<P ALIGN="CENTER">
<CENTER>WINDOW_MOVED </CENTER></P>
<TD>
<P ALIGN="CENTER">
<CENTER>Generated when the window is moved</CENTER></P></TABLE>
<H4><A ID = "I83" NAME = "I83"  >
<foNT SIZE=3><B>Using AWT Windows in Stand-Alone Applications</B>
<BR></FONT></A></H4>
<P>Because frames are general-purpose <A ID = "I84" NAME = "I84"  ></A><A ID = "I85" NAME = "I85"  ></A>mechanisms for creating AWT windows with panels, you can use them in your stand-alone Java applications and easily take advantage of all the applet capabilities you learned about this week. To do this, write your application as if it were an applet (inheriting from the Applet class and using threads, graphics, and UI components as necessary), and then add a main() method. Here's one for a class called MyAWTClass:
<BR></P>
<PRE>public static void main(String args[]) {
    Frame f = new Frame(&quot;My Window&quot;);
    MyAWTClass mac = new MyAWTClass();
    mac.init();
    mac.start();
    f.add(&quot;Center&quot;, mac);
    f.resize(300, 300);
    f.show();
}</PRE>
<P>This main() method does five things:
<BR></P>
<UL>
<LI>It creates a new frame to hold the applet.
<BR>
<BR></LI>
<LI>It creates an instance of the class that defines that method.
<BR>
<BR></LI>
<LI>It duplicates the applet environment calls to init() and start().
<BR>
<BR></LI>
<LI>It adds the applet to the frame and resizes the frame to be 300 pixels square.
<BR>
<BR></LI>
<LI>It shows the frame on the screen.
<BR>
<BR>
<BR></LI></UL>
<P>By using this mechanism, you can create a Java program that can function equally well as an applet or an application&#151;just include init() for applets and main() for applications.
<BR></P>
<P>If you do create an application that uses this mechanism, be careful of your init() methods that get parameters from an HTML file. When you run an applet as an application, you don't have the HTML parameters passed into the init() method. Pass them in as command-line arguments, instead, and handle them in your main() method. Then set a flag so that the init() method doesn't try to read parameters that don't exist.
<BR></P>
<H3><A ID = "I86" NAME = "I86"  >
<foNT SIZE=4><B>Networking in Java</B>
<BR></FONT></A></H3>
<P>Networking is the capability of <A ID = "I87" NAME = "I87"  ></A>making connections from your applet or application to a system over the network. Networking in Java involves classes in the<A ID = "I88" NAME = "I88"  ></A><A ID = "I89" NAME = "I89"  ></A> java.net package, which provide cross-platform abstractions for simple networking operations, including connecting and retrieving files by using common Web protocols and creating basic Unix-like sockets. Used in conjunction with input and output streams (which you'll learn much more about next week), reading and writing files over the network becomes as easy as reading or writing to files on the local disk.
<BR></P>
<P>There are restrictions, of course. Java applets cannot read or write from the disk on the machine that's running them without your express permission, and, depending on the browser, not at all. Depending on the browser, Java applets may not be able to connect to systems other than the one upon which they were originally stored. Even given these restrictions, you can still accomplish a great deal and take advantage of the Web to read and process information over the Net.
<BR></P>
<P>This section describes three ways you can communicate with systems on the Net:
<BR></P>
<UL>
<LI>showDocument(), which <A ID = "I90" NAME = "I90"  ></A><A ID = "I91" NAME = "I91"  ></A>enables an applet to tell the browser to load and link to another page on the Web
<BR>
<BR></LI>
<LI>openStream(), a method that opens <A ID = "I92" NAME = "I92"  ></A><A ID = "I93" NAME = "I93"  ></A>a connection to a URL and enables you to extract data from that connection
<BR>
<BR></LI>
<LI>The socket classes, Socket and <A ID = "I94" NAME = "I94"  ></A><A ID = "I95" NAME = "I95"  ></A>ServerSocket, which enable you to open standard socket connections to hosts and read to and write from those connections
<BR>
<BR>
<BR></LI></UL>
<H4><A ID = "I96" NAME = "I96"  >
<foNT SIZE=3><B>Creating Links Inside Applets</B>
<BR></FONT></A></H4>
<P>Probably the easiest way <A ID = "I97" NAME = "I97"  ></A><A ID = "I98" NAME = "I98"  ></A><A ID = "I99" NAME = "I99"  ></A>to use networking inside an applet is to tell the browser running that applet to load a new page. You can use this, for example, to create animated image maps that, when clicked, load a new page.
<BR></P>
<P>To link to a new page, you create a new instance of the class URL. You saw some of this when you worked with images, but let's go over it a little more thoroughly here.
<BR></P>
<P>The URL class represents <A ID = "I100" NAME = "I100"  ></A><A ID = "I101" NAME = "I101"  ></A>a uniform resource locator. To create a new URL, you can use one of four different forms:
<BR></P>
<UL>
<LI>URL(String, String, int, String) creates a new URL object, given a protocol (http, ftp, gopher, file), a host name (www.lne.com, ftp.netcom.com), a port number (80 for http), and a filename or pathname.
<BR>
<BR></LI>
<LI>URL(String, String, String) does the same thing as the previous form, minus the port number.
<BR>
<BR></LI>
<LI>URL(URL, String) creates a URL, given a base path and a relative path. For the base, you can use getDocumentBase() for the URL of the current HTML file, or getCodeBase() for the URL of the Java applet class file. The relative path will be tacked onto the last directory in those base URLs (just like with images and sounds).
<BR>
<BR></LI>
<LI>URL(String) creates a URL object from a URL string (which should include the protocol, hostname, optional port name, and filename).
<BR>
<BR>
<BR></LI></UL>
<P>For that last one (creating a URL from a string), you have to catch a malformed URL exception, so surround the URL constructor with a try...catch:
<BR></P>
<PRE>String url = &quot;http://www.yahoo.com/&quot;;
try { theURL = new URL(url); }
catch ( MalformedURLException e) {
    System.out.println(&quot;Bad URL: &quot; + theURL);
}</PRE>
<P>Getting a URL object is the hard part. Once you have one, all you have to do is pass it to the browser. Do this by using this single line of code, where theURL is the URL object to link to:
<BR></P>
<PRE>getAppletContext().showDocument(theURL);</PRE>
<P>The browser that contains your URL will then load and display the document at that URL.
<BR></P>
<P>Listing 14.2 shows a simple applet that displays three buttons that represent important Web locations (the buttons are shown in Figure 14.4). Clicking on the buttons causes the document to be loaded from the locations to which those buttons refer.
<BR></P>
<P>
<BR><B><A HREF = "javascript:if(confirm('http://newdata.box.sk/bx/java/14tyj04.gif  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://newdata.box.sk/bx/java/14tyj04.gif'" tppabs="http://newdata.box.sk/bx/java/14tyj04.gif"  >Figure 14.4. Bookmark buttons.</B></A>
<BR></P>
<UL>
<LH><B>Listing 14.2. Bookmark buttons.</B><A ID = "I102" NAME = "I102"  ></A></LH></UL>
<PRE> 1: import java.awt.*;
 2: import java.net.URL;
 3: import java.net.MalformedURLException;
 4:
 5: public class ButtonLink extends java.applet.Applet {
 6:
 7:    Bookmark bmlist[] = new Bookmark[3];
 8:
 9:    public void init() {
10:        bmlist[0] = new Bookmark(&quot;Laura's Home Page&quot;,
11:             &quot;http://www.lne.com/lemay/&quot;);
12:         bmlist[1] = new Bookmark(&quot;Yahoo&quot;,
13:             &quot;http://www.yahoo.com&quot;);
14:         bmlist[2]= new Bookmark(&quot;Java Home Page&quot;,
15:             &quot;http://java.sun.com&quot;);
16:
17:         setLayout(new GridLayout(bmlist.length,1, 10, 10));
18:         for (int i = 0; i &lt; bmlist.length; i++) {
19:             add(new Button(bmlist[i].name));
20:         }
21:     }
22:
23:     public boolean action(Event evt, Object arg) {
24:         if (evt.target instanceof Button) {
25:             LinkTo((String)arg);
26:             return true;
27:         }
28:         else return false;
29:     }
30: 
31:     void LinkTo(String name) {
32:         URL theURL = null;
33:         for (int i = 0; i &lt; bmlist.length; i++) {
34:             if (name.equals(bmlist[i].name))
35:                 theURL = bmlist[i].url;
36:         }
37:         if (theURL != null)
38:             getAppletContext().showDocument(theURL);
39:     }
40: }
41:
42: class Bookmark {
43:     String name;
44:     URL url;
45:
46:     Bookmark(String name, String theURL) {
47:         this.name = name;
48:         try { this.url = new URL(theURL); }
49:         catch ( MalformedURLException e) {
50:             System.out.println(&quot;Bad URL: &quot; + theURL);
51:         }
52:     }
53: }</PRE>
<P>Two classes make up this applet: the first implements the actual applet itself, the second is a class representing a bookmark. Bookmarks have two parts: a name and a URL.
<BR></P>
<P>This particular applet creates three bookmark instances and stores them in an array of bookmarks (this applet could be easily modified to accept bookmarks as parameters from an HTML file). For each bookmark, a button is created whose label is the value of the bookmark's name.
<BR></P>
<P>When the buttons are pressed, the linkTo() method is called, which tells the browser to load the URL referenced by that bookmark.
<BR></P>
<H4><A ID = "I103" NAME = "I103"  >
<foNT SIZE=3><B>Opening Web Connections</B>
<BR></FONT></A></H4>
<P>Rather than asking the <A ID = "I104" NAME = "I104"  ></A>browser to just load the contents of a file, sometimes you might want to get hold of that file's contents so that your applet can use them. If the file you want to grab is stored on the Web, and can be accessed using the more common URL forms (http, ftp, and so on), your applet can use the URL class to get it.
<BR></P>
<P>Note that for security reasons, applets can by default connect back only to the same host from which they originally loaded. This means that if you have your applets stored on a system called www.myhost.com, the only machine your applet can open a connection to will be that same host (and that same host <I>name</I>, so be careful with host aliases). If the file the applet wants to retrieve is on that same system, using URL connections is the easiest way to get it.
<BR></P>
<H4><A ID = "I105" NAME = "I105"  >
<foNT SIZE=3><B>openStream()</B>
<BR></FONT></A></H4>
<P>URL defines a method <A ID = "I106" NAME = "I106"  ></A><A ID = "I107" NAME = "I107"  ></A>called openStream(), which opens a network connection using the given URL and returns an instance of the class InputStream (part of the java.io package). If you convert that stream to a DataInputStream (with a BufferedInputStream in the middle for better performance), you can then read characters and lines from that stream (you'll learn all about streams on Day 19). For example, these lines open a connection to the URL stored in the variable theURL, and then read and echo each line of the file to the standard output:
<BR></P>
<PRE>try {
    InputStream in = theURL.openStream();
    DataInputStream data = new DataInputStream(new BufferedInputStream(in);
    String line;
    while ((line = data.readLine()) != null) {
        System.out.println(line);
    }
}
catch (IOException e) {
    System.out.println(&quot;IO Error: &quot; + e.getMessage());
}</PRE>
<HR ALIGN=CENTER>
<NOTE>
<IMG SRC="note.gif" tppabs="http://newdata.box.sk/bx/java/note.gif" WIDTH = 35 HEIGHT = 35><B>Note:</B> You need to wrap all those lines in a try...catch statement to catch IOExceptions generated.
<BR></NOTE>
<HR ALIGN=CENTER>
<P>Here's an example of an applet that uses the openStream() method to open a connection to a Web site, reads a file from that connection (Edgar Allen Poe's poem &quot;The Raven&quot;), and displays the result in a text area. Listing 14.3 shows the code; Figure 14.5 shows the result after the file has been read.
<BR></P>
<P>
<BR><B><A HREF = "javascript:if(confirm('http://newdata.box.sk/bx/java/14tyj05.gif  \n\nThis file was not retrieved by Teleport Pro, because the server reports that this file cannot be found.  \n\nDo you want to open it from the server?'))window.location='http://newdata.box.sk/bx/java/14tyj05.gif'" tppabs="http://newdata.box.sk/bx/java/14tyj05.gif"  >Figure 14.5. The <I>GetRaven</I> class.</B></A>
<BR></P>
<UL>
<LH><B>Listing 14.3. The </B><B>GetRaven</B><B> class.</B><A ID = "I108" NAME = "I108"  ></A></LH></UL>
<PRE> 1: import java.awt.*;
 2: import java.io.DataInputStream;
 3: import java.io.BufferedInputStream;
 4: import java.io.IOException;
 5: import java.net.URL;
 6: import java.net.URLConnection;
 7: import java.net.MalformedURLException;
 8:
 9: public class GetRaven extends java.applet.Applet
10:     implements Runnable {
11:
12:     URL theURL;
13:     Thread runner;
14:     TextArea ta = new TextArea(&quot;Getting text...&quot;, 30, 70);
15:
16:     public void init() {
17:         String url = &quot;http://www.lne.com/Web/Java/raven.txt&quot;;
18:         try { this.theURL = new URL(url); }
19:         catch ( MalformedURLException e) {
20:             System.out.println(&quot;Bad URL: &quot; + theURL);
21:         }
22:         add(ta);
23:     }
24:
25:     public Insets insets() {
26:         return new Insets(10,10,10,10);
27:     }
28:
29:     public void start() {
30:         if (runner == null) {
31:             runner = new Thread(this);
32:             runner.start();
33:         }
34:     }
35:
36:     public void stop() {
37:         if (runner != null) {
38:             runner.stop();
39:             runner = null;
40:         }
41:     }
42:
43:     public void run() {
44:         InputStream conn;
45:         DataInputStream data;
46:         String line;
47:         StringBuffer buf = new StringBuffer();
48:
49:         try {
50:             conn = theURL.openStream();
51:             data = new DataInputStream(new BufferedInputStream(
52:                 conn));
53:
54:             while ((line = data.readLine()) != null) {
55:                 buf.append(line + &quot;\n&quot;);
56:             }
57:
58:             ta.setText(buf.toString());
59:         }
60:         catch (IOException e) {
61:             System.out.println(&quot;IO Error:&quot; + e.getMessage());
62:         }
63:     }
64: }</PRE>
<P>The init() method (lines 16 to 23) sets up the URL and the text area in which that file will be displayed. The URL could be easily passed into the applet via an HTML parameter; here, it's just hard-coded for simplicity.
<BR></P>
<P>Because it might take some time to load the file over the network, you put that routine into its own thread and use the familiar start(), stop(), and run() methods to control that thread.
<BR></P>
<P>Inside run() (lines 43 to 63), the work takes place. Here, you initialize a bunch of variables and then open the connection to the URL (using the openStream() method in line 50). Once the connection is open, you set up an input stream in lines 51 to 55 and read from it, line by line, putting the result into an instance of StringBuffer (a string buffer is a modifiable string).
<BR></P>
<P>Once all the data has been read, line 58 converts the StringBuffer object into a real string and then puts that result in the text area.
<BR></P>
<P>One other thing to note about this example is that the part of the code that opened a network connection, read from the file, and created a string is surrounded by a try and catch statement. If any errors occur while you're trying to read or process the file, these statements enable you to recover from them without the entire program crashing (in this case, the program exits with an error, because there's little else to be done if the applet can't read the file). try and catch give you the capability of handling and recovering from errors. You'll learn more about exceptions on Day 17.
<BR></P>
<H4><A ID = "I109" NAME = "I109"  >
<foNT SIZE=3><B>The URLconnection Class</B>
<BR></FONT></A></H4>
<P>URL's openStream() method is <A ID = "I110" NAME = "I110"  ></A>actually a simplified use of the URLconnection class. URLconnection provides a way to retrieve files by using URLs&#151;on Web or FTP sites, for example. URLconnection also enables you to create output streams if the protocol allows it.
<BR></P>
<P>To use a URL connection, you first create a new instance of the class URLconnection, set its parameters (whether it enables writing, for example), and then use the connect() method to open the connection. Keep in mind that, with a URL connection, the class handles the protocol for you based on the first part of the URL, so you don't have to make specific requests to retrieve a file; all you have to do is read it.
<BR></P>
<H4><A ID = "I111" NAME = "I111"  >
<foNT SIZE=3><B>Sockets</B>
<BR></FONT></A></H4>
<P>For networking applications <A ID = "I112" NAME = "I112"  ></A>beyond what the URL and URLconnection classes offer (for example, for other protocols or for more general networking applications), Java provides the Socket and ServerSocket classes as an abstraction of standard socket programming techniques.
<BR></P>
<HR ALIGN=CENTER>
<NOTE>
<IMG SRC="note.gif" tppabs="http://newdata.box.sk/bx/java/note.gif" WIDTH = 35 HEIGHT = 35><B>Note:</B> I don't have the space to give you a full explanation of how socket programming works. If you haven't worked with sockets before, see whether openStream() will meet your needs. If you really need to do more, any book that discusses socket programming will give you the background you need to work with Java's sockets.
<BR></NOTE>
<HR ALIGN=CENTER>
<P>The Socket class provides a client-side socket interface similar to standard Unix sockets. To open a connection, create a new instance of Socket (where <I>hostname</I> is the host to connect to, and <I>portnum</I> is the port number):
<BR></P>
<PRE>Socket connection = new Socket(<I>hostname</I>, <I>portnum</I>);</PRE>
<HR ALIGN=CENTER>
<NOTE>
<IMG SRC="note.gif" tppabs="http://newdata.box.sk/bx/java/note.gif" WIDTH = 35 HEIGHT = 35><B>Note:</B> If you use sockets in an applet, you are still subject to the security restrictions about where you can connect.
<BR></NOTE>
<HR ALIGN=CENTER>
<P>Once the socket is open, you can use input and output streams to read and write from that socket (you'll learn all about input and output streams on Day 19):
<BR></P>
<PRE>DataInputStream in = new DataInputStream(
    new BufferedInputStream(connection.getInputStream()));
DataOutputStream out= new DataOutputStream(
    new BufferedOutputStream(connection.getOutputStream()));</PRE>
<P>Once you're done with the socket, don't forget to close it (this also closes all the input and ouput streams you may have set up for that socket):
<BR></P>
<PRE>connection.close();</PRE>
<P>Server-side sockets work similarly, with the exception of the accept() method. A server socket listens on a TCP port for a connection from a client; when a client connects to that port, the accept() method accepts a connection from that client. By using both client and server sockets, you can create applications that communicate with each other over the network. 
<BR></P>
<P>To create a <A ID = "I113" NAME = "I113"  ></A><A ID = "I114" NAME = "I114"  ></A><A ID = "I115" NAME = "I115"  ></A>server socket and bind it to a port, create a new instance of ServerSocket with the port number:
<BR></P>
<PRE>ServerSocket sconnection = new ServerSocket(8888);</PRE>
<P>To listen on that port (and to accept a connection from any clients if one is made), use the accept() method:
<BR></P>
<PRE>sconnection.accept();</PRE>
<P>Once the socket connection is made, you can use input and output streams to read from and write to the client.
<BR></P>
<P>See the java.net package for more information about Java sockets.
<BR></P>
<H3><A ID = "I116" NAME = "I116"  >
<foNT SIZE=4><B>Other Applet Hints</B>
<BR></FONT></A></H3>
<P>On this, the last section of the last day of the second week, let's finish up with some small hints that didn't fit in anywhere else: using showStatus() to print messages in the browser' status window, providing applet information, and communicating between multiple applets on the same page.
<BR></P>
<H4><A ID = "I117" NAME = "I117"  >
<foNT SIZE=3><B>The </B><B>showStatus </B><B>Method</B>
<BR></FONT></A></H4>
<P>The showStatus() method<A ID = "I118" NAME = "I118"  ></A><A ID = "I119" NAME = "I119"  ></A>, available in the applet class, enables you to display a string <A ID = "I120" NAME = "I120"  ></A><A ID = "I121" NAME = "I121"  ></A>in the status bar of the browser, which contains the applet. You can use this for printing error, link, help, or other status messages:
<BR></P>
<PRE>getAppletContext().showStatus(&quot;Change the color&quot;);</PRE>
<P>The getAppletContext() method<A ID = "I122" NAME = "I122"  ></A><A ID = "I123" NAME = "I123"  ></A> enables your applet to access features of the browser that contains it. You already saw a use of this with links, wherein you could use the showDocument() method to tell the browser to load a page. showStatus() uses that same mechanism to print status messages.
<BR></P>
<HR ALIGN=CENTER>
<NOTE>
<IMG SRC="note.gif" tppabs="http://newdata.box.sk/bx/java/note.gif" WIDTH = 35 HEIGHT = 35><B>Note:</B> showStatus() may not be supported in all browsers, so do not depend on it for your applet's functionality or interface. It is a useful way of communicating optional information to your user&#151;if you need a more reliable method of communication, set up a label in your applet and update it to reflect changes in its message.
<BR></NOTE>
<HR ALIGN=CENTER>
<H4><A ID = "I124" NAME = "I124"  >
<foNT SIZE=3><B>Applet Information</B>
<BR></FONT></A></H4>
<P>The AWT gives you a mechanism <A ID = "I125" NAME = "I125"  ></A>for associating information with your applet. Usually, there is a mechanism in the browser viewing the applet to view display information. You can use this mechanism to sign your name or your organization to your applet, or to provide contact information so that users can get hold of you if they want.
<BR></P>
<P>To provide information about your applet, override the getAppletInfo() method:
<BR></P>
<PRE>public String getAppletInfo() {
    return &quot;GetRaven copyright 1995 Laura Lemay&quot;;
}</PRE>
<H4><A ID = "I126" NAME = "I126"  >
<foNT SIZE=3><B>Communicating Between Applets</B>
<BR></FONT></A></H4>
<P>Sometimes you want to <A ID = "I127" NAME = "I127"  ></A><A ID = "I128" NAME = "I128"  ></A>have an HTML page that has several different applets on it. To do this, all you have to do is include several different iterations of the applet tag&#151;the browser will create different instances of your applet for each one that appears on the HTML page.
<BR></P>
<P>What if you want to communicate between those applets? What if you want a change in one applet to affect the other applets in some way?
<BR></P>
<P>The best way to do this is to use the applet context to get to different applets on the same page. You've already seen the use of the getAppletContext() method for several other uses; you can also use it to get hold of the other applets on the page. For example, to call a method called sendMessage() on all the applets on a page (including the current applet), use the getApplets() method and a for loop that looks something like this:
<BR></P>
<PRE>for (Enumeration e = getAppletContext().getApplets();
        e.hasMoreElements();) {
     Applet current = (Applet)(e.nextElement());
     current.sendMessage();
}</PRE>
<P>The getApplets() method<A ID = "I129" NAME = "I129"  ></A><A ID = "I130" NAME = "I130"  ></A> returns an Enumeration object with a list of the applets on the page. Iterating over the Enumeration object in this way enables you to access each element in the Enumeration in turn.
<BR></P>
<P>If you want to call a method in a specific applet, it's slightly more complicated. To do this, you give your applets a name and then refer to them by name inside the body of code for that applet.
<BR></P>
<P>To give an applet a <A ID = "I131" NAME = "I131"  ></A><A ID = "I132" NAME = "I132"  ></A>name, use the NAME parameter in your HTML file:
<BR></P>
<PRE>&lt;P&gt;This applet sends information:
&lt;APPLET CODE=&quot;MyApplet.class&quot; WIDTH=100 HEIGHT=150
    NAME=&quot;sender&quot;&gt; &lt;/APPLET&gt;
&lt;P&gt;This applet receives information from the sender:
&lt;APPLET CODE=&quot;MyApplet.class&quot; WIDTH=100 HEIGHT=150
    NAME=&quot;receiver&quot;&gt; &lt;/APPLET&gt;</PRE>
<P>To get a reference to another applet on the same page, use the getApplet() method from the applet context with the name of that applet. This gives you a reference to the applet of that name. You can then refer to that applet as if it were just another object: call methods, set its instance variables, and so on:
<BR></P>
<PRE>// get ahold of the receiver applet
Applet receiver = getAppletContext().getApplet(&quot;receiver&quot;);
// tell it to update itself.
reciever.update(text, value);</PRE>
<P>In this example, you use the getApplet() method to get a reference to the applet with the name receiver. Given that reference, you can then call methods in that applet as if it were just another object in your own environment. Here, for example, if both applets have an update() method, you can tell receiver to update itself by using the information the current applet has.
<BR></P>
<P>Naming your applets and then referring to them by using the methods described in this section enables your applets to communicate and stay in sync with each other, providing uniform behavior for all the applets on your page.
<BR></P>
<H3><A ID = "I133" NAME = "I133"  >
<foNT SIZE=4><B>Summary</B>
<BR></FONT></A></H3>
<P>Congratulations! Take a deep breath&#151;you're finished with Week 2. This week has been full of useful information about creating applets and using the Java AWT classes to display, draw, animate, process input, and create fully fledged interfaces in your applets.
<BR></P>
<P>Today, you finished exploring applets and the AWT by learning about three concepts.
<BR></P>
<P>First, you learned about windows, frames, menus, and dialogs, which enable you to create a framework for your applets&#151;or enable your Java applications to take advantage of applet features.
<BR></P>
<P>Second, you had a brief introduction to Java networking through some of the classes in the java.net package. Applet networking includes things as simple as pointing the browser to another page from inside your applet, but can also include retrieving files from the Web by using standard Web protocols (http, ftp, and so on). For more advanced networking capabilities, Java provides basic socket interfaces that can be used to implement many basic network-oriented applets&#151;client-server interactions, chat sessions, and so on.
<BR></P>
<P>Finally, you finished up with the tidbits&#151;small features of the Java AWT and of applets that didn't fit anywhere else, including showStatus(), providing information about your applet, and communicating between multiple applets on a single page.
<BR></P>
<H3><A ID = "I134" NAME = "I134"  >
<foNT SIZE=4><B>Q&amp;A</B>
<BR></FONT></A></H3>
<P><B>Q: When I create popup windows using the </B><B>appletviewer</B><B>, they all show up with </B><B>this big yellow bar that says </B><B>Warning: applet window.</B><B> What does this mean?</B>
<BR></P>
<P><B>A: </B>The warning is to tell you (and the users of your applet) that the window being displayed was generated by an applet, and not by the browser itself. This is a security feature to keep an applet programmer from popping up a window that masquerades as a browser window and, for example, asks users for their passwords.
<BR>
<BR>There's nothing you can do to hide or obscure the warning. 
<BR></P>
<P><B>Q: What good is having a file dialog box if you can't read or write </B><B>files from the local file system?</B>
<BR></P>
<P><B>A: </B>Applets often can't read or write from the local file system depending on the browser, but because you can use AWT components in Java applications as well as applets, the file dialog box is also very useful for them.
<BR></P>
<P><B>Q: How can I mimic an HTML form submission in a Java applet?</B>
<BR></P>
<P><B>A: </B>Currently, applets make it difficult to do this. The best (and easiest way) is to use GET notation to get the browser to submit the form contents for you.
<BR>
<BR>HTML forms can be submitted in two ways: by using the GET request, or by using POST. If you use GET, your form information is encoded in the URL itself, something like this:
<BR>
<BR>http://www.blah.com/cgi-bin/myscript?foo=1&amp;bar=2&amp;name=Laura
<BR>
<BR>Because the form input is encoded in the URL, you can write a Java applet to mimic a form, get input from the user, and then construct a new URL object with the form data included on the end. Then just pass that URL to the browser by using getAppletContext().showDocument(), and the browser will submit the form results itself. For simple forms, this is all you need.
<BR></P>
<P><B>Q: How can I do </B><B>POST</B><B> form submissions?</B>
<BR></P>
<P><B>A: </B>You'll have to mimic what a browser does to send forms using POST: open a socket to the server and send the data, which looks something like this (the exact format is determined by the HTTP protocol; this is only a subset of it):
<BR>
<BR>POST /cgi-bin/mailto.cgi HTTP/1.0
<BR>Content-type: application/x-www-form-urlencoded
<BR>Content-length: 36
<BR>
<BR>{your encoded form data here}
<BR>
<BR>If you've done it right, you get the CGI form output back from the server. It's then up to your applet to handle that output properly. Note that if the output is in HTML, there really isn't a way to pass that output to the browser that is running your applet yet. This capability may end up in future Java releases. If you get back a URL, however, you can redirect the browser to that URL.
<BR></P>
<P><B>Q: </B><B>showStatus()</B><B> doesn't work in my browser. How can I give my readers status </B><B>information?</B>
<BR></P>
<P><B>A: </B>As you learned in the section on showStatus(), whether or not a browser supports showStatus() is up to that browser. If you must have status-like behavior in your applet, consider creating a status label in the applet itself that is updated with the information you need to present.
<BR></P>
<P><B>Q: It looks like the </B><B>openStream()</B><B> method and the </B><B>Socket</B><B> classes implement TCP </B><B>sockets. Does Java support UPD (datagram) sockets?</B>
<BR></P>
<P><B>A: </B>The JDK 1.0 provides two classes, DatagramSocket and DatagramPacket, which implement UDP sockets. The DatagramSocket class operates similarly to the Socket class. Use instances of DatagramPacket for each packet you send or receive over the socket.
<BR>
<BR>See the API documentation for the java.net package for more information.
<BR></P>
<P><B>Q: I've seen something called applet properties in the Java </B><B>documentation. What are properties?</B>
<BR></P>
<P>A: Properties are features of applets and the applet environment that you can test for and make decisions in your code based on their values. At the time this book is being written, properties are still very new. See the latest Java documentation for more information on properties.
<BR></P>
<P><A HREF = "tyj13x.html" tppabs="http://newdata.box.sk/bx/java/tyj13x.html"  ><IMG SRC="bluprev.gif" tppabs="http://newdata.box.sk/bx/java/bluprev.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Previous Page"></A>
<A HREF = "httoc.html" tppabs="http://newdata.box.sk/bx/java/httoc.html"  ><IMG SRC="blutoc.gif" tppabs="http://newdata.box.sk/bx/java/blutoc.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="TOC"></A>
<A HREF = "htindex.html" tppabs="http://newdata.box.sk/bx/java/htindex.html"  ><IMG SRC="bluindex.gif" tppabs="http://newdata.box.sk/bx/java/bluindex.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Index"></A>
<A HREF = "tyjwg3.html" tppabs="http://newdata.box.sk/bx/java/tyjwg3.html"  ><IMG SRC="blunext.gif" tppabs="http://newdata.box.sk/bx/java/blunext.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Next Page"></A>
<A HREF = "httoc.html" tppabs="http://newdata.box.sk/bx/java/httoc.html"  ><IMG SRC="bluprev.gif" tppabs="http://newdata.box.sk/bx/java/bluprev.gif" WIDTH = 32 HEIGHT = 32 BORDER = 0 ALT="Home"></A>
</P></BODY></HTML>
